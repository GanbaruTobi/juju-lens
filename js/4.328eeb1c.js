(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"29db":function(t,e,i){},"56c6":function(t,e,i){"use strict";i.r(e);var o=i("b7b1"),a=i("60a3"),s=function(t,e,i,o){var a,s=arguments.length,n=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(n=(s<3?a(n):s>3?a(e,i,n):a(e,i))||n);return s>3&&n&&Object.defineProperty(e,i,n),n};let n=class CharmIcon extends a.c{};s([Object(a.b)(String)],n.prototype,"src",void 0),n=s([a.a],n);var l=n,r=i("2877"),c=i("068f"),u=i("eebe"),d=i.n(u),p=Object(r.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-img",{attrs:{src:this.src},scopedSlots:this._u([{key:"error",fn:function(){return[e("img",{staticStyle:{"max-width":"100%","max-height":"100%",width:"100%",height:"100%"},attrs:{src:i("d725")}})]},proxy:!0}])})}),[],!1,null,null,null),m=p.exports;d()(p,"components",{QImg:c.a});var h=i("4bb5"),f=function(t,e,i,o){var a,s=arguments.length,n=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(n=(s<3?a(n):s>3?a(e,i,n):a(e,i))||n);return s>3&&n&&Object.defineProperty(e,i,n),n},g=function(t,e,i,o){return new(i||(i=Promise))((function(a,s){function n(t){try{r(o.next(t))}catch(t){s(t)}}function l(t){try{r(o.throw(t))}catch(t){s(t)}}function r(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,l)}r((o=o.apply(t,e||[])).next())}))};const v=Object(h.a)("juju");function b(t){return g(this,void 0,void 0,(function*(){return new Promise(e=>{setTimeout((function(){e()}),t)})}))}let y=class AppConfigDialog extends a.c{constructor(){super(...arguments),this.saveLoading=!1,this.hasChanges=!1,this.config={}}onConfigChange(){this.hasChanges=!0}get inputColor(){return this.$q.dark.isActive?"secondary":"primary"}get model(){const t=this.app["model-uuid"];return this.controllerModels.filter(e=>e["model-uuid"]==t)[0]}strictCheckInt(t){return/^[-+]?(\d+)$/.test(t)}strictCheckFloat(t){return/^[-+]?(\d+(\.\d+)?)$/.test(t)}show(){return g(this,void 0,void 0,(function*(){for(this.$refs.dialog.show();!this.model.conn;)yield b(500);this.config=(yield this.model.conn.conn.facades.application.getConfig({entities:[{tag:"application-"+this.app.name}]})).results[0].config,a.c.nextTick(()=>{this.hasChanges=!1})}))}hide(){this.$refs.dialog.hide()}onDialogHide(){this.$emit("hide")}onSubmit(){const t={};for(const e of Object.keys(this.config))"boolean"!=this.config[e].type?t[e]=(this.config[e].value||"").toString():t[e]=this.config[e].value;this.saveLoading=!0,this.model.conn.conn.facades.application.setApplicationsConfig({args:[{application:this.app.name,config:t}]}).then(t=>{if(t.results[0].error)return console.error(t.results[0].error),this.$q.notify({type:"negative",message:"Error updating app config: "+t.results[0].error.message,position:"bottom-right",timeout:2e3}),void this.hide();this.$q.notify({type:"positive",message:"Application config updated",position:"bottom-right",timeout:1e3}),this.hide()}).catch(t=>{console.error(t),this.$q.notify({type:"negative",message:"Error updating app config: "+t,position:"bottom-right",timeout:2e3}),this.hide()})}onCancelClick(){this.hide()}};f([Object(a.b)({type:Object,default:null})],y.prototype,"app",void 0),f([v.Getter("currentControllerModelsFilled")],y.prototype,"controllerModels",void 0),f([Object(a.d)("config",{deep:!0})],y.prototype,"onConfigChange",null),y=f([a.a],y);var M=y,j=i("24e8"),C=i("f09f"),w=i("a370"),L=i("0016"),S=i("0378"),q=i("66e5"),I=i("4074"),x=i("0170"),T=i("8f8e"),A=i("27f9"),N=i("4b7e"),D=i("9c40"),_=i("05c0"),k=i("714f"),O=Object(r.a)(M,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-dialog",{ref:"dialog",attrs:{persistent:t.hasChanges},on:{hide:t.onDialogHide}},[i("q-card",{staticClass:"q-dialog-plugin column",staticStyle:{width:"60em","max-width":"90vw","max-height":"90vh"}},[i("q-card-section",{staticClass:"column no-wrap",staticStyle:{"max-height":"90vh"}},[i("div",{staticClass:"text-h5 col-auto q-mb-sm flex items-center justify-left"},[i("q-icon",{staticClass:"on-left",attrs:{name:"edit"}}),i("span",[t._v("App Config")])],1),i("q-form",{staticClass:"q-gutter-md col column no-wrap scroll",on:{submit:t.onSubmit}},[i("div",{staticClass:"q-pa-md col-grow col-shrink scroll"},[t._l(t.config,(function(e,o){return["boolean"==e.type?[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:o,attrs:{tag:"label"}},[i("q-item-section",[i("q-item-label",[t._v(t._s(o))]),i("q-item-label",{attrs:{caption:""}},[t._v("\n                    "+t._s(e.description+" — Default: "+(e.default&&e.default.length>25?e.default.substr(0,100)+"...":e.default||"[empty]"))+"\n                  ")])],1),i("q-item-section",{attrs:{avatar:"",top:""}},[i("q-checkbox",{attrs:{color:t.inputColor},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"configData.value"}})],1)],1)]:[i("q-item",{key:o,attrs:{tag:"label"}},[i("q-item-section",[i("q-item-label",[t._v(t._s(o))]),i("q-item-label",{attrs:{caption:""}},[t._v("\n                    "+t._s(e.description+" — Default: "+(e.default&&e.default.length>25?e.default.substr(0,100)+"...":e.default||"[empty]"))+"\n                  ")])],1),i("q-item-section",[i("q-input",{attrs:{color:t.inputColor,autogrow:"string"==e.type,placeholder:o,value:e.value,type:"string"==e.type?"textarea":"",rules:[function(i){return"int"!=e.type||(t.strictCheckInt(i)||"Must be a valid integer")},function(i){return"float"!=e.type||(t.strictCheckFloat(i)||"Must be a valid number")}]},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"configData.value"}})],1)],1)]]})),Object.keys(t.config).length<1?i("div",{staticClass:"text-body1"},[t._v("\n            This application has no config.\n          ")]):t._e()],2),i("q-card-actions",{staticClass:"col-auto",attrs:{align:"right"}},[i("q-btn",{attrs:{color:"positive",type:"submit",label:"Save",icon:"check",loading:t.saveLoading,disabled:Object.keys(t.config).length<1||!t.hasChanges}},[t.hasChanges?t._e():i("q-tooltip",[t._v("\n              There are no changes to save.\n            ")])],1),i("q-btn",{attrs:{color:"primary",icon:"cancel",label:"Cancel"},on:{click:t.onCancelClick}})],1)],1)],1)],1)],1)}),[],!1,null,null,null),z=O.exports;d()(O,"components",{QDialog:j.a,QCard:C.a,QCardSection:w.a,QIcon:L.a,QForm:S.a,QItem:q.a,QItemSection:I.a,QItemLabel:x.a,QCheckbox:T.a,QInput:A.a,QCardActions:N.a,QBtn:D.a,QTooltip:_.a}),d()(O,"directives",{Ripple:k.a});var Q=i("fb60"),E=i("b444"),U=i("6260"),B=i("0831"),P=i("f303"),H=i("18d6"),$=function(t,e,i,o){var a,s=arguments.length,n=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(n=(s<3?a(n):s>3?a(e,i,n):a(e,i))||n);return s>3&&n&&Object.defineProperty(e,i,n),n};const R=Object(h.a)("juju"),F=Object(h.a)("app"),{offset:V}=P.c,{setScrollPosition:Y}=B.a;let Z=class Index extends a.c{constructor(){super(...arguments),this.loading=!1,this.sortModelsByOptions=["Status","Name"],this.sortModelsBy="Status",this.tab="applications",this.modelsExpanded={},this.activeApplicationId=null,this.showAppInfo=!1,this.pageHeight=0,this.footerVisible=!1,this.footerHeight=50,this.footerTransitioning=!1,this.footerTransitionDuration=300,this.unitVisibleColumnsOptions=["name","actions","agent-status","status","machine","public-ip","exposed-ports","series","message"],this.unitVisibleColumns=["name","actions","agent-status","status","machine","public-ip","series","exposed-ports","message"]}get activeApplication(){if(this.activeApplicationId)for(const t of this.controllerModels)for(const e of t.applications)if(e.lensId==this.activeApplicationId)return e;return null}get models(){return"Status"==this.sortModelsBy?this.controllerModels.sort((t,e)=>Q.a[e.statusSeverity]-Q.a[t.statusSeverity]):this.controllerModels.sort((t,e)=>e.name<t.name?1:-1)}created(){const t=H.a.getItem("sortModelsBy");!t||"Status"!=t&&"Name"!=t||(this.sortModelsBy=t);const e=H.a.getItem("unitVisibleColumns");e&&(this.unitVisibleColumns=e),this.scrollToApp()}onUnitVisibleColumnsChange(){H.a.set("unitVisibleColumns",this.unitVisibleColumns)}get activeApplicationUnitsColumns(){return[{name:"name",label:"Unit",field:"name",headerStyle:"width: auto",align:"left",sortable:!0},{name:"actions",label:"Actions",alight:"left",field:t=>t},{name:"agent-status",label:"Agent",field:"agent-status",headerStyle:"width: 5em",align:"left",sortable:!0},{name:"status",label:"Status",field:t=>t["workload-status"].current,sort:(t,e)=>Q.a[e]-Q.a[t],headerStyle:"width: 5em",align:"left",sortable:!0},{name:"machine",label:"Machine",field:"machine-id",align:"left",headerStyle:"width: 5em",sortable:!0},{name:"public-ip",label:"Public IP",field:"public-address",align:"left",headerStyle:"width: 10em",sortable:!0},{name:"exposed-ports",label:"Exposed Ports",field:t=>{const e=[t.ports.map(t=>`${t.number}/${t.protocol}`).join(", "),(t["port-ranges"]||[]).filter(t=>t["from-port"]!=t["to-port"]).map(t=>`${t["from-port"]}-${t["to-port"]}/${t.protocol}`).join(", ")];return""!=e[1]?e.join(", "):e[0]},align:"left",headerStyle:"width: auto",sortable:!0},{name:"series",label:"Series",align:"left",headerStyle:"width: auto",field:"series"},{name:"message",label:"Message",align:"left",headerStyle:"width: 100%",field:t=>t["workload-status"].message}]}unitAgentStatusBadgeColor(t){return"idle"==t?"positive":"active"==t||"executing"==t||"allocating"==t?"warning":"error"==t?"negative":"grey"}unitStatusSeverityBadgeColor(t){const e=Q.a[t];return e==Q.a.active?"positive":Q.a.active<e&&e<Q.a.blocked?"warning":"negative"}onResizeContent({height:t}){this.pageHeight=t}resizeFooter(t){const e=t.delta.y/this.pageHeight*100,i=this.footerHeight-e;i>100?this.footerHeight=100:i<2?(this.footerVisible=!1,this.footerHeight=50,this.activeApplicationId=null):this.footerHeight=i}hideFooter(){this.footerTransitioning=!0,this.footerVisible=!1,setTimeout(()=>this.footerTransitioning=!1,this.footerTransitionDuration)}showFooter(){this.footerTransitioning=!0,this.footerVisible=!0,setTimeout(()=>this.footerTransitioning=!1,this.footerTransitionDuration)}onSortModelsByChange(t){H.a.set("sortModelsBy",t)}scrollToElement(t){const e=this.$refs.modelScrollArea,i=e.getScrollTarget(),o=e.getScrollPosition(),a=V(t).top;Y(i,o+a-122,100)}scrollToApp(){const t=this.$route.query.unitId;if(!t)return;let e=null,i=!1;for(const o of this.models){if(1==i)break;for(const a of o.applications){if(1==i)break;for(const o of a.units)if(o.lensId==t){e=a,i=!0;break}}}e&&(this.$set(this.modelsExpanded,e["model-uuid"],!0),setTimeout(function t(){if(!e)return;const i=document.getElementById("application-"+e.lensId);i?this.scrollToElement(i):setTimeout(t,100)}.bind(this),1200),this.footerVisible=!0,this.activeApplicationId=e.lensId)}openLogs(t,e){this.addFloatingWindow({unit:t,app:e,kind:E.a.log})}openTerminal(t,e){this.addFloatingWindow({unit:t,app:e,kind:E.a.terminal})}showAppConfigDialog(t){this.$q.dialog({component:z,parent:this,app:t})}};$([R.State],Z.prototype,"currentController",void 0),$([R.State],Z.prototype,"controllers",void 0),$([R.Getter("currentControllerModelsFilled")],Z.prototype,"controllerModels",void 0),$([F.Action(U.a.addFloatingWindow)],Z.prototype,"addFloatingWindow",void 0),$([Object(a.d)("unitVisibleColumns")],Z.prototype,"onUnitVisibleColumnsChange",null),$([Object(a.d)("sortModelsBy")],Z.prototype,"onSortModelsByChange",null),$([Object(a.d)("$route")],Z.prototype,"scrollToApp",null),Z=$([Object(a.a)({components:{JujuLoading:o.a,CharmIcon:m}})],Z);var G=Z,J=(i("ca6e"),i("65c6")),W=i("cb32"),X=i("6ac5"),K=i("429b"),tt=i("7867"),et=i("2c91"),it=i("ddd8"),ot=i("3980"),at=i("4983"),st=i("eb85"),nt=i("e9c1"),lt=i("adad"),rt=i("823b"),ct=i("1c1c"),ut=i("4e73"),dt=i("d847"),pt=i("eaac"),mt=i("db86"),ht=i("58a8"),ft=i("8572"),gt=i("7460"),vt=i("7f67"),bt=i("75c3"),yt=Object(r.a)(G,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"models absolute fit flex items-stretch",staticStyle:{overflow:"hidden"}},[t.activeApplication?i("q-dialog",{model:{value:t.showAppInfo,callback:function(e){t.showAppInfo=e},expression:"showAppInfo"}},[i("q-card",{staticStyle:{width:"30em","max-width":"80vw"}},[i("q-toolbar",{staticClass:"row q-my-sm"},[i("q-avatar",[i("charm-icon",{attrs:{src:t.activeApplication.charmIconUrl}})],1),i("q-toolbar-title",[t._v(t._s(t.activeApplication.name))])],1),i("q-card-section",{staticClass:"q-pt-none text-body1"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-auto text-weight-bold"},[t._v("\n            Charm Version: \n          ")]),i("div",{staticClass:"col-auto"},[i("a",{staticStyle:{"text-decoration":"none"},attrs:{target:"_blank",href:t.activeApplication.charmStoreUrl}},[t._v("\n              "+t._s(t.activeApplication["charm-url"])+"\n              "),i("q-icon",{attrs:{name:"open_in_new"}})],1)])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-auto text-weight-bold"},[t._v("\n            Scale: \n          ")]),i("div",{staticClass:"col-auto"},[t._v("\n            "+t._s(t.activeApplication.units.length)+"\n          ")])])]),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Close"}})],1)],1)],1):t._e(),i("div",{staticClass:"fit column"},[i("q-toolbar",{staticClass:"col-auto row items-center"},[i("q-tabs",{staticClass:"model-machine-tabs q-pa-xs",attrs:{"inline-label":"",shrink:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-route-tab",{attrs:{label:"Applications",icon:"share",name:"applications",to:{name:"models"}}}),i("q-route-tab",{attrs:{label:"Machines",icon:"fas fa-server",name:"machines",to:{name:"machines"}}})],1),i("q-space"),i("div",{staticStyle:{flex:"0.1 0.5 10em"},attrs:{id:"sort-models-select"}},[i("q-select",{staticClass:"on-left",attrs:{dense:"",label:"Sort By",options:t.sortModelsByOptions,color:t.$q.dark.isActive?"secondary":"primary",filled:""},model:{value:t.sortModelsBy,callback:function(e){t.sortModelsBy=e},expression:"sortModelsBy"}})],1)],1),i("div",{staticClass:"col relative-position"},[i("q-resize-observer",{on:{resize:t.onResizeContent}}),i("q-scroll-area",{ref:"modelScrollArea",style:{height:t.footerVisible?100-t.footerHeight+"%":"100%",transition:t.footerTransitioning?"all "+t.footerTransitionDuration/1e3+"s":"unset"},attrs:{"thumb-style":{width:"5px"}}},[i("div",{staticClass:"q-pa-sm"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-grow text-h5 q-mb-md xs"},[t._v("\n              "+t._s("applications"==t.tab?"Applications":"Machines")+"\n            ")]),i("div",{staticStyle:{flex:"0.1 0.5 10em",position:"relative",top:"-0.5em"},attrs:{id:"sort-models-select-mobile"}},[i("q-select",{staticClass:"on-left",attrs:{dense:"",label:"Sort By",options:t.sortModelsByOptions,color:t.$q.dark.isActive?"secondary":"primary",filled:""},model:{value:t.sortModelsBy,callback:function(e){t.sortModelsBy=e},expression:"sortModelsBy"}})],1)]),i("transition-group",{attrs:{name:"model-group-trans",tag:"div"}},t._l(t.models,(function(e){return i("div",{key:e["model-uuid"],staticClass:"q-mb-md full-width"},[i("q-toolbar",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-primary text-white full-width",on:{click:function(i){return t.$set(t.modelsExpanded,e["model-uuid"],!t.modelsExpanded[e["model-uuid"]])}}},[i("q-icon",{style:{color:e.statusIcon.color},attrs:{name:e.statusIcon.icon,size:"1.7em"}}),i("q-separator",{staticClass:"on-right",attrs:{vertical:"",color:"grey-6"}}),i("q-toolbar-title",{staticStyle:{flex:"1 1 0%"}},[i("span",[t._v("\n                    "+t._s(e.name)+"\n                    "),i("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle"}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])],1),t._v("\n                   \n                  "),i("span",{staticClass:"text-weight-light",staticStyle:{"font-size":"1rem"}},[t._v("\n                    "+t._s(e.controller)+"\n                    "),i("q-tooltip",[t._v("Controller")])],1)]),i("div",{staticClass:"avatar-stack"},t._l(e.applications,(function(o){return i("q-avatar",{key:o.id,attrs:{size:"2em"},on:{click:function(i){return i.stopPropagation(),t.$set(t.modelsExpanded,e["model-uuid"],!0),t.activeApplicationId=o.lensId,void t.showFooter()}}},[i("charm-icon",{staticStyle:{width:"2em",height:"2em"},attrs:{src:o.charmIconUrl}}),i("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle","content-style":"font-size: 0.8em;"}},[t._v("\n                      "+t._s(o.name)+"\n                    ")])],1)})),1),i("q-btn",{staticStyle:{transition:"transform 0.2s"},style:{transform:t.modelsExpanded[e["model-uuid"]]?"rotateZ(180deg)":"none"},attrs:{round:"",dense:"",flat:"",icon:"arrow_downward"}})],1),i("q-slide-transition",[t.modelsExpanded[e["model-uuid"]]?i("div",[i("q-tab-panels",{staticStyle:{"background-color":"hsla(0, 0%, 0%, 0)"},attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-tab-panel",{staticClass:"q-pa-none",staticStyle:{overflow:"hidden"},attrs:{id:"model-"+e["model-uuid"],name:"applications"}},[i("q-list",{attrs:{bordered:"",separator:""}},[i("transition-group",{attrs:{name:"model-group-trans",tag:"div"}},t._l(e.applications,(function(e){return i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.lensId,staticClass:"row",class:{"active-application-row":t.activeApplication&&t.activeApplication.lensId==e.lensId},attrs:{clickable:"",id:"application-"+e.lensId},on:{click:function(i){t.activeApplicationId=e.lensId,t.showFooter()}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{style:{color:e.statusIcon.color},attrs:{name:e.statusIcon.icon,size:"1.4em"}})],1),i("q-item-section",{staticStyle:{width:"2.5em",height:"2.5em"},attrs:{avatar:""}},[i("charm-icon",{staticStyle:{width:"2.5em",height:"2.5em"},attrs:{src:e.charmIconUrl}})],1),i("q-item-section",[i("div",[t._v("\n                                "+t._s(e.name)+"\n                              ")]),i("div",{staticClass:"row reverse"},t._l(e.units,(function(o){return i("div",{key:o.id},[i("q-icon",{staticClass:"q-ma-xs",style:{color:o.statusIcon.color},attrs:{name:o.statusIcon.icon,size:"1.em"}}),i("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle","content-style":"font-size: 0.8rem;"}},[t._v("\n                                    "+t._s(o["workload-status"].message||"status: "+o["workload-status"].current)+"\n                                  ")]),i("q-menu",{attrs:{"context-menu":"","auto-close":""}},[i("q-list",[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(i){return t.openLogs(o,e)}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:"fas fa-file-alt"}})],1),i("q-item-section",[t._v("\n                                          Open Logs\n                                        ")])],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(i){return t.openTerminal(o,e)}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:"fas fa-terminal"}})],1),i("q-item-section",[t._v("\n                                          Open Terminal\n                                        ")])],1)],1)],1)],1)})),0)]),i("q-item-section",{attrs:{side:""}},[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"more_vert"},on:{click:function(t){t.stopPropagation()}}},[i("q-menu",{staticStyle:{"font-size":"1em"},attrs:{anchor:"center right",self:"center left",offset:[10,0]}},[i("q-list",[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-primary text-white",attrs:{clickable:""},on:{click:function(){return t.showAppConfigDialog(e)}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:"edit"}})],1),i("q-item-section",[t._v("Config")])],1)],1)],1)],1)],1)],1)})),1),e.applications.length<1?i("div",{staticClass:"text-center q-pa-sm text-body1"},[t._v("\n                          This model has no applications.\n                        ")]):t._e()],1)],1),i("q-tab-panel",{attrs:{name:"machines"}},[i("div",{staticClass:"text-h5"},[t._v("Machine List Comming Soon!")])])],1)],1):t._e()])],1)})),0)],1)]),"applications"==t.tab?i("div",{staticClass:"relative-position",style:{height:t.footerVisible?t.footerHeight+"%":"0%",transition:t.footerTransitioning?"all "+t.footerTransitionDuration/1e3+"s":"unset"}},[t.activeApplication&&(t.footerVisible||t.footerTransitioning)?i("div",{staticClass:"absolute fit column overflow-hidden"},[i("div",{directives:[{name:"touch-pan",rawName:"v-touch-pan.mouse.up.down.prevent",value:t.resizeFooter,expression:"resizeFooter",modifiers:{mouse:!0,up:!0,down:!0,prevent:!0}}],staticStyle:{position:"absolute",left:"0",right:"0",top:"0",cursor:"ns-resize",height:"0.7em"}}),i("q-bar",{staticClass:"col-auto bg-primary text-white top-border",attrs:{dense:""}},[i("q-icon",{staticClass:"q-mr-xs",staticStyle:{transition:"color 0.3s"},style:{color:t.activeApplication.statusIcon.color},attrs:{name:"circle",size:"1em"}}),i("charm-icon",{staticStyle:{width:"1em",height:"1em"},attrs:{src:t.activeApplication.charmIconUrl}}),i("div",{staticClass:"text-weight-bold ellipsis on-right"},[t._v("\n              "+t._s(t.activeApplication.name)+"\n            ")]),i("q-btn",{staticClass:"on-right lt-md",attrs:{icon:"info",round:"",flat:""},on:{click:function(e){t.showAppInfo=!t.showAppInfo}}},[i("q-tooltip",[t._v("Application Info")])],1),i("q-space"),i("div",{staticClass:"gt-sm"},[i("span",{staticClass:"on-left"},[i("span",{staticClass:"text-weight-bold"},[t._v("Charm version:")]),i("a",{staticClass:"text-white",staticStyle:{"text-decoration":"none"},attrs:{target:"_blank",href:t.activeApplication.charmStoreUrl}},[t._v("\n                  "+t._s(t.activeApplication["charm-url"])+"\n                  "),i("q-icon",{attrs:{name:"open_in_new"}})],1)]),i("span",{staticClass:"on-left"},[i("span",{staticClass:"text-weight-bold"},[t._v("Scale:")]),t._v("\n                "+t._s(t.activeApplication.units.length)+"\n              ")])]),i("q-select",{staticClass:"app-details-footer__column-select on-left",attrs:{dark:"","options-dark":t.$q.dark.isActive,filled:"",dense:"",multiple:"","options-dense":"",options:t.unitVisibleColumnsOptions,"display-value":"Columns"},scopedSlots:t._u([{key:"option",fn:function(e){return[i("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[i("q-item-section",{attrs:{side:""}},[i("q-checkbox",{attrs:{color:"secondary",val:e.opt},model:{value:t.unitVisibleColumns,callback:function(e){t.unitVisibleColumns=e},expression:"unitVisibleColumns"}})],1),i("q-item-section",[i("q-item-label",{domProps:{innerHTML:t._s(e.opt)}})],1)],1)]}}],null,!1,2880810978),model:{value:t.unitVisibleColumns,callback:function(e){t.unitVisibleColumns=e},expression:"unitVisibleColumns"}}),i("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{dense:"",flat:"",icon:"fas fa-window-minimize"},on:{click:function(e){return t.hideFooter()}}},[i("q-tooltip",{attrs:{"transition-show":"jump-up","transition-hide":"jump-down",anchor:"top middle",self:"bottom middle",delay:300}},[t._v("\n                Hide\n              ")])],1)],1),i("div",{staticClass:"col-grow relative-position"},[i("q-scroll-area",{staticClass:"absolute fit",attrs:{"thumb-style":{width:"5px"}}},[i("q-table",{staticStyle:{"border-radius":"0px","box-shadow":"none","margin-bottom":"-3em"},attrs:{dense:"","hide-bottom":"",data:t.activeApplication.units,columns:t.activeApplicationUnitsColumns,"visible-columns":t.unitVisibleColumns,pagination:{rowsPerPage:0},grid:t.$q.screen.xs,"row-key":"index","virtual-scroll":"","binary-state-sort":""},scopedSlots:t._u([{key:"body-cell-agent-status",fn:function(e){return[i("q-td",{attrs:{props:e}},[i("div",[i("q-badge",{attrs:{color:t.unitAgentStatusBadgeColor(e.value.current),label:e.value.current}})],1)])]}},{key:"body-cell-actions",fn:function(e){return[i("q-td",{attrs:{props:e}},[i("q-btn",{attrs:{dense:"",flat:"",size:"0.8em",icon:"fas fa-file-alt"},on:{click:function(i){return t.openLogs(e.value,t.activeApplication)}}},[i("q-tooltip",[t._v("Open Logs")])],1),i("q-btn",{attrs:{dense:"",flat:"",size:"0.8em",icon:"fas fa-terminal"},on:{click:function(i){return t.openTerminal(e.value,t.activeApplication)}}},[i("q-tooltip",[t._v("Open Terminal")])],1)],1)]}},{key:"body-cell-status",fn:function(e){return[i("q-td",{attrs:{props:e}},[i("div",[i("q-badge",{attrs:{color:t.unitStatusSeverityBadgeColor(e.value),label:e.value}})],1)])]}},{key:"item",fn:function(e){return[i("div",{staticClass:"column col-6"},[i("q-card",{staticClass:"q-ma-xs q-pb-xs"},[i("q-card-section",[i("div",{staticClass:"row"},[e.cols.filter((function(t){return"name"==t.name})).length>0?i("div",{staticClass:"col"},[t._v("\n                            "+t._s(e.cols.filter((function(t){return"name"==t.name}))[0].value)+"\n                          ")]):t._e(),i("div",{staticClass:"col",staticStyle:{"text-align":"right"}},[e.cols.filter((function(t){return"status"==t.name})).length>0?i("div",t._l([e.cols.filter((function(t){return"status"==t.name}))[0].value],(function(e){return i("q-badge",{key:e,attrs:{color:t.unitStatusSeverityBadgeColor(e)}},[t._v("\n                                "+t._s(e)+"\n                              ")])})),1):t._e()])])]),i("q-separator"),i("q-list",{attrs:{dense:""}},t._l(e.cols.filter((function(t){return"name"!==t.name&&"status"!==t.name&&t.name})),(function(e){return i("q-item",{key:e.name},[i("q-item-section",[i("q-item-label",[t._v(t._s(e.label))]),"message"==e.name?i("q-item-label",{attrs:{caption:""}},[i("div",{staticClass:"q-ml-xs"},[t._v(t._s(e.value))])]):t._e()],1),"message"!=e.name?i("q-item-section",{attrs:{side:""}},[i("q-item-label",{attrs:{caption:""}},["agent-status"==e.name?i("span",[i("q-badge",{attrs:{color:t.unitAgentStatusBadgeColor(e.value.current)}},[t._v("\n                                  "+t._s(e.value.current)+"\n                                ")])],1):"actions"!=e.name?i("span",[t._v("\n                                "+t._s(e.value)+"\n                              ")]):i("span",[i("q-btn",{staticClass:"q-ma-xs",attrs:{dense:"",flat:"",size:"1em",icon:"fas fa-file-alt"},on:{click:function(i){return t.openLogs(e.value,t.activeApplication)}}},[i("q-tooltip",[t._v("Open Logs")])],1),i("q-btn",{staticClass:"q-ma-xs",attrs:{dense:"",flat:"",size:"1em",icon:"fas fa-terminal"},on:{click:function(i){return t.openTerminal(e.value,t.activeApplication)}}},[i("q-tooltip",[t._v("Open Terminal")])],1)],1)])],1):t._e()],1)})),1)],1)],1)]}}],null,!1,2391813112)})],1)],1)],1):t._e()]):t._e()],1)],1),i("juju-loading",{attrs:{loading:t.loading}})],1)}),[],!1,null,null,null);e.default=yt.exports;d()(yt,"components",{QDialog:j.a,QCard:C.a,QToolbar:J.a,QAvatar:W.a,QToolbarTitle:X.a,QCardSection:w.a,QIcon:L.a,QCardActions:N.a,QBtn:D.a,QTabs:K.a,QRouteTab:tt.a,QSpace:et.a,QSelect:it.a,QResizeObserver:ot.a,QScrollArea:at.a,QSeparator:st.a,QTooltip:_.a,QSlideTransition:nt.a,QTabPanels:lt.a,QTabPanel:rt.a,QList:ct.a,QItem:q.a,QItemSection:I.a,QMenu:ut.a,QBar:dt.a,QCheckbox:T.a,QItemLabel:x.a,QTable:pt.a,QTd:mt.a,QBadge:ht.a,QField:ft.a,QTab:gt.a}),d()(yt,"directives",{ClosePopup:vt.a,Ripple:k.a,TouchPan:bt.a})},b7b1:function(t,e,i){"use strict";var o=i("74f7"),a=i("792f"),s=i("60a3"),n=function(t,e,i,o){var a,s=arguments.length,n=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(n=(s<3?a(n):s>3?a(e,i,n):a(e,i))||n);return s>3&&n&&Object.defineProperty(e,i,n),n};let l=class JujuLoading extends s.c{constructor(){super(...arguments),this.showLoading=!1,this.showLoadingTimeoutHandle=null}created(){this.onLoadingChange(this.loading)}onLoadingChange(t){t||(this.showLoading=!1),!t&&this.showLoadingTimeoutHandle?clearTimeout(this.showLoadingTimeoutHandle):t&&!this.showLoadingTimeoutHandle&&(this.showLoadingTimeoutHandle=setTimeout(()=>this.showLoading=!0,this.delay))}};n([Object(s.b)(Boolean)],l.prototype,"loading",void 0),n([Object(s.b)({type:Number,default:300})],l.prototype,"delay",void 0),n([Object(s.d)("loading")],l.prototype,"onLoadingChange",null),l=n([Object(s.a)({components:{QInnerLoading:o.a,QSpinnerRings:a.a}})],l);var r=l,c=i("2877"),u=i("eebe"),d=i.n(u),p=Object(c.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-inner-loading",{attrs:{showing:this.showLoading}},[e("q-spinner-rings",{attrs:{size:"80%",color:this.$q.dark.isActive?"secondary":"primary"}})],1)}),[],!1,null,null,null);e.a=p.exports;d()(p,"components",{QInnerLoading:o.a,QSpinnerRings:a.a})},ca6e:function(t,e,i){"use strict";var o=i("29db");i.n(o).a},d725:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxLjQyNjAwMyIgdmlld0JveD0iMCAwIDUxLjQyNjAwMyA1MS40MjYwMDMiIHdpZHRoPSI1MS40MjYwMDMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMjUuNzEzMDAxIiBjeT0iMjUuNzEzIiBmaWxsPSIjMDAzYjRlIiByPSIyNC43MTMwMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PGcgZmlsbD0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIuOTk5OCIgdHJhbnNmb3JtPSJtYXRyaXgoLjUyOTEwNjA1IDAgMCAuNTI5MTA2MDUgMTAuMTAyOTg0IDExLjI5NjcxKSI+PHBhdGggZD0ibTU5LjY5MyA1NC42MzYtMTEuODQ0LTIwLjMwNmMtLjQwNS0uNjk1LTEuMTI4LTEuMTEtMS45MzMtMS4xMXMtMS41MjguNDE1LTEuOTMzIDEuMTFsLTExLjg0NiAyMC4zMDZjLS40MDkuNy0uNDEyIDEuNTM5LS4wMDggMi4yNDJzMS4xMjkgMS4xMjMgMS45NCAxLjEyM2gyMy42OTFjLjgxMSAwIDEuNTM2LS40MiAxLjkzOS0xLjEyMy40MDUtLjcwMy40MDMtMS41NDEtLjAwNi0yLjI0MnptLTEuNzI3IDEuMjQ2Yy0uMDMuMDU1LS4wOTIuMTE5LS4yMDUuMTE5aC0yMy42OTFjLS4xMTQgMC0uMTc1LS4wNjQtLjIwNi0uMTE5cy0uMDU2LS4xNC4wMDEtLjIzOGwxMS44NDUtMjAuMzA2Yy4wNTctLjA5OC4xNDMtLjExOC4yMDYtLjExOC4wNjIgMCAuMTQ4LjAyMS4yMDUuMTE4bDExLjg0NSAyMC4zMDZjLjA1Ni4wOTguMDMyLjE4MyAwIC4yMzh6Ii8+PHBhdGggZD0ibTQ2IDQwLjAwMWMtLjU1MiAwLTEgLjQ0Ny0xIDF2OGMwIC41NTMuNDQ4IDEgMSAxczEtLjQ0NyAxLTF2LThjMC0uNTUzLS40NDgtMS0xLTF6Ii8+PHBhdGggZD0ibTQ1LjI5IDUyLjI5MWMtLjE4LjE4OS0uMjkuNDUtLjI5Ljcxcy4xMS41Mi4yOS43MWMuMTkuMTguNDUuMjkuNzEuMjlzLjUyLS4xMS43MS0uMjljLjE4LS4xOS4yOS0uNDQuMjktLjcxIDAtLjI3MS0uMTEtLjUyMS0uMjktLjctLjM3LS4zOC0xLjA1LS4zOC0xLjQyLS4wMXoiLz48cGF0aCBkPSJtNDEuMzkxIDMyLjgxOGMuOTM0LTEuNjAzIDIuNjY4LTIuNTk5IDQuNTI0LTIuNTk5IDEuODU3IDAgMy41OS45OTYgNC41MjUgMi42MDFsNy41NiAxMi45NTh2LTQyLjc3N2MwLS41NTMtLjQ0OC0xLTEtMWgtNTZjLS41NTIgMC0xIC40NDctMSAxdjQ0YzAgLjU1My40NDggMSAxIDFoMzEuNTM0em0tMjUuMzkxLTIyLjgxN2MzLjA3MSAwIDUuNTY5IDIuNDk4IDUuNTY5IDUuNTY5IDAgMy4wNy0yLjQ5OCA1LjU2OC01LjU2OSA1LjU2OHMtNS41NjktMi40OTgtNS41NjktNS41NjhjMC0zLjA3MSAyLjQ5OC01LjU2OSA1LjU2OS01LjU2OXptLTguMzM5IDI4Ljc1MWMtLjE5LjE2Ny0uNDI2LjI0OS0uNjYuMjQ5LS4yNzcgMC0uNTUzLS4xMTQtLjc1MS0uMzM5LS4zNjUtLjQxNS0uMzI1LTEuMDQ3LjA5LTEuNDEybDE3LjAxNy0xNC45ODJjLjM5Ni0uMzQ4Ljk5NC0uMzI5IDEuMzY4LjA0NGw0Ljc0MyA0Ljc0MyA5Ljc5NC0xMC43MjdjLjE3OS0uMTk2LjQyOS0uMzEzLjY5NC0uMzI1LjI2NC0uMDA2LjUyNC4wODMuNzIuMjYybDEyIDExYy40MDcuMzczLjQzNSAxLjAwNi4wNjIgMS40MTMtLjM3My40MDYtMS4wMDYuNDM1LTEuNDEzLjA2MmwtMTEuMjYyLTEwLjMyNS05LjE4MSAxMC4wNTQgNC44MDcgNC44MDdjLjM5MS4zOTEuMzkxIDEuMDIzIDAgMS40MTRzLTEuMDIzLjM5MS0xLjQxNCAwbC0xMC4zMDEtMTAuMzAxeiIvPjwvZz48L3N2Zz4="}}]);