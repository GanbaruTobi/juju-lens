(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{2171:function(t,a,e){},"56c6":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"models absolute fit flex items-stretch"},[e("div",{staticClass:"fit column"},[e("q-toolbar",{staticClass:"col-auto row q-mb-sm"},[e("q-tabs",{staticClass:"model-machine-tabs q-pa-xs",attrs:{"inline-label":"",shrink:""},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("q-route-tab",{attrs:{label:"Models",icon:"share",name:"models",to:{name:"models"}}}),e("q-route-tab",{attrs:{label:"Machines",icon:"fas fa-server",name:"machines",to:{name:"machines"}}})],1),e("q-space"),e("q-btn",{attrs:{color:"positive",icon:"fas fa-plus"},on:{click:function(a){return t.startCreate()}}})],1),e("q-scroll-area",{staticClass:"col-grow",attrs:{"thumb-style":{width:"5px"}}},[e("div",{staticClass:"q-pa-sm"},[e("div",{staticClass:"text-h5 q-mb-md xs"},[t._v("\n          Models\n        ")]),t._l(t.models,(function(a){return e("div",{key:a.id,staticClass:"q-mb-md full-width"},[e("q-toolbar",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-primary text-white full-width",on:{click:function(e){return t.$set(t.modelsExpanded,a.id,!t.modelsExpanded[a.id])}}},[e("q-icon",{style:{color:a.statusIcon.color},attrs:{name:a.statusIcon.icon,size:"1.7em"}}),e("q-toolbar-title",{staticStyle:{flex:"1 1 0%"}},[t._v("\n              "+t._s(a.name)+"\n            ")]),e("div",{staticClass:"avatar-stack"},t._l(a.applications,(function(a){return e("q-avatar",{key:a.id,attrs:{size:"2em"}},[e("q-img",{attrs:{src:a.charm.imageUrl}}),e("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle","content-style":"font-size: 0.8em;"}},[t._v("\n                  "+t._s(a.name)+"\n                ")])],1)})),1),e("q-btn",{staticStyle:{transition:"transform 0.2s"},style:{transform:t.modelsExpanded[a.id]?"rotateZ(180deg)":"none"},attrs:{round:"",dense:"",flat:"",icon:"arrow_downward"}}),e("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"more_vert"},on:{click:function(t){t.stopPropagation()}}})],1),e("q-slide-transition",[t.modelsExpanded[a.id]?e("div",[e("q-tab-panels",{staticStyle:{"background-color":"hsla(0, 0%, 0%, 0)"},attrs:{animated:""},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"models"}},[e("q-list",{attrs:{bordered:"",separator:""}},t._l(a.applications,(function(a){return e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a.id,staticClass:"row",attrs:{clickable:"",id:a.id}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{style:{color:a.statusIcon.color},attrs:{name:a.statusIcon.icon,size:"1.7em"}})],1),e("q-item-section",{attrs:{avatar:""}},[e("q-img",{attrs:{src:a.charm.imageUrl}})],1),e("q-item-section",[e("div",[t._v("\n                          "+t._s(a.name)+"\n                        ")]),e("div",{staticClass:"row reverse"},t._l(a.units,(function(o){return e("div",{key:o.id},[e("q-icon",{staticClass:"q-ma-xs",style:{color:o.statusIcon.color},attrs:{name:o.statusIcon.icon,size:"1.em"}}),e("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle"}},[t._v("\n                              "+t._s(a.name)+"/"+t._s(o.index)+"\n                            ")])],1)})),0)]),e("q-item-section",{attrs:{side:""}},[e("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"more_vert"},on:{click:function(t){t.stopPropagation()}}})],1)],1)})),1)],1),e("q-tab-panel",{attrs:{name:"machines"}},[e("div",{staticClass:"text-h5"},[t._v("Machine List Comming Soon!")])])],1)],1):t._e()])],1)}))],2)]),"models"==t.tab?e("div",{staticClass:"bg-dark text-white",staticStyle:{height:"2em"}},[e("q-bar",{attrs:{dense:""}},[e("img",{staticStyle:{height:"1em"},attrs:{src:"/statics/charmIcons/spark.svg",ratio:1}}),e("div",{staticClass:"text-weight-bold ellipsis"},[t._v("my-app")]),e("q-space"),e("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{dense:"",flat:"",icon:"fas fa-window-minimize"},on:{click:function(a){return t.$emit("minimize")}}},[e("q-tooltip",{attrs:{"transition-show":"jump-up","transition-hide":"jump-down",anchor:"top middle",self:"bottom middle",delay:300}},[t._v("\n            Hide\n          ")])],1)],1)],1):t._e()],1),e("juju-loading",{attrs:{loading:t.loading}})],1)},i=[],s=e("b7b1"),n=e("fb60");const r={icon:"fas fa-check-circle",color:"var(--q-color-positive)"},c={icon:"fas fa-exclamation-triangle",color:"var(--q-color-warning)"},l={icon:"fas fa-exclamation-circle",color:"var(--q-color-negative)"},d={icon:"fas fa-circle",color:"var(--q-color-positive)"},m={icon:"fas fa-circle",color:"var(--q-color-warning)"},p={icon:"fas fa-circle",color:"var(--q-color-negative)"};function u(t,a){const e=n["a"][t];return e>=n["a"].blocked?a?p:l:e>=n["a"].maintenance?a?m:c:a?d:r}var f=e("b2da"),b=e("60a3"),h=e("4bb5"),v=function(t,a,e,o){var i,s=arguments.length,n=s<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(t,a,e,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(n=(s<3?i(n):s>3?i(a,e,n):i(a,e))||n);return s>3&&n&&Object.defineProperty(a,e,n),n};const g=Object(h["a"])("juju");let q=class extends b["d"]{constructor(){super(...arguments),this.loading=!1,this.tab="models",this.activeApplication=null,this.modelsExpanded={}}get models(){const t=[];for(const a of this.rawModels){const e=this.applications.filter(t=>t.modelId==a.id).map(t=>{const a=this.units.filter(a=>a.applicationId==t.id).map(t=>Object.assign({statusIcon:u(t.status.severity,!0)},t)),e=a.map(t=>t.status.severity).sort((t,a)=>n["a"][a]-n["a"][t])[0];return Object.assign({charm:this.charmStore.filter(a=>a.id==t.charmId)[0],units:a,statusIcon:u(e),severity:e},t)});t.push(Object.assign({applications:e,statusIcon:u(e.map(t=>t.severity).sort((t,a)=>n["a"][a]-n["a"][t])[0])},a))}return t}created(){this.fetchData()}fetchData(){this.loading=!0,this.loadAllState().then(()=>{this.loading=!1})}};v([g.State],q.prototype,"currentController",void 0),v([g.State("models")],q.prototype,"rawModels",void 0),v([g.State("store")],q.prototype,"charmStore",void 0),v([g.State],q.prototype,"applications",void 0),v([g.State],q.prototype,"units",void 0),v([g.Action(f["a"].loadAllState)],q.prototype,"loadAllState",void 0),q=v([Object(b["a"])({components:{JujuLoading:s["a"]}})],q);var y=q,w=y,_=(e("ca6e"),e("2877")),x=e("eebe"),j=e.n(x),C=e("65c6"),Q=e("429b"),k=e("7867"),S=e("2c91"),I=e("9c40"),L=e("4983"),O=e("0016"),T=e("6ac5"),R=e("cb32"),z=e("068f"),A=e("05c0"),P=e("e9c1"),E=e("adad"),H=e("823b"),M=e("1c1c"),$=e("66e5"),D=e("4074"),N=e("d847"),B=e("7460"),J=e("714f"),U=Object(_["a"])(w,o,i,!1,null,null,null);a["default"]=U.exports;j()(U,"components",{QToolbar:C["a"],QTabs:Q["a"],QRouteTab:k["a"],QSpace:S["a"],QBtn:I["a"],QScrollArea:L["a"],QIcon:O["a"],QToolbarTitle:T["a"],QAvatar:R["a"],QImg:z["a"],QTooltip:A["a"],QSlideTransition:P["a"],QTabPanels:E["a"],QTabPanel:H["a"],QList:M["a"],QItem:$["a"],QItemSection:D["a"],QBar:N["a"],QTab:B["a"]}),j()(U,"directives",{Ripple:J["a"]})},b7b1:function(t,a,e){"use strict";var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-inner-loading",{attrs:{showing:t.showLoading}},[e("q-spinner-rings",{attrs:{size:"80%",color:t.$q.dark.isActive?"secondary":"primary"}})],1)},i=[],s=e("fe09"),n=e("60a3"),r=function(t,a,e,o){var i,s=arguments.length,n=s<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(t,a,e,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(n=(s<3?i(n):s>3?i(a,e,n):i(a,e))||n);return s>3&&n&&Object.defineProperty(a,e,n),n};let c=class extends n["d"]{constructor(){super(...arguments),this.showLoading=!1,this.showLoadingTimeoutHandle=null}created(){this.onLoadingChange(this.loading)}onLoadingChange(t){t||(this.showLoading=!1),!t&&this.showLoadingTimeoutHandle?clearTimeout(this.showLoadingTimeoutHandle):t&&!this.showLoadingTimeoutHandle&&(this.showLoadingTimeoutHandle=setTimeout(()=>this.showLoading=!0,this.delay))}};r([Object(n["c"])(Boolean)],c.prototype,"loading",void 0),r([Object(n["c"])({type:Number,default:300})],c.prototype,"delay",void 0),r([Object(n["e"])("loading")],c.prototype,"onLoadingChange",null),c=r([Object(n["a"])({components:{QInnerLoading:s["b"],QSpinnerRings:s["c"]}})],c);var l=c,d=l,m=e("2877"),p=e("eebe"),u=e.n(p),f=e("74f7"),b=e("792f"),h=Object(m["a"])(d,o,i,!1,null,null,null);a["a"]=h.exports;u()(h,"components",{QInnerLoading:f["a"],QSpinnerRings:b["a"]})},ca6e:function(t,a,e){"use strict";var o=e("2171"),i=e.n(o);i.a}}]);