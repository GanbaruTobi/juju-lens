(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{a7d4:function(t,e,o){"use strict";o.r(e);var n=o("b7b1"),r=o("60a3"),l=function(t,e,o,n){var r,l=arguments.length,i=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(l<3?r(i):l>3?r(e,o,i):r(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};let i=class ResourceCard extends r.c{};l([Object(r.b)({type:String,default:""})],i.prototype,"heading",void 0),l([Object(r.b)({type:String,default:null})],i.prototype,"headingIcon",void 0),l([Object(r.b)({type:Array,default:[]})],i.prototype,"infoItems",void 0),l([Object(r.b)({type:Boolean,default:!1})],i.prototype,"loading",void 0),l([Object(r.b)({type:Boolean,default:!1})],i.prototype,"showContentSection",void 0),i=l([Object(r.a)({components:{JujuLoading:n.a}})],i);var a=i,s=o("2877"),c=o("f09f"),d=o("a370"),u=o("0016"),p=o("05c0"),h=o("9c40"),f=o("4e73"),m=o("66e5"),g=o("4074"),b=o("eb85"),v=o("7f67"),C=o("eebe"),y=o.n(C),q=Object(s.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",[o("q-card-section",[o("div",{staticClass:"row items-center"},[o("div",{staticClass:"col-grow",staticStyle:{flex:"1 1 0%"}},[o("div",{staticClass:"text-h6"},[o("q-icon",{staticClass:"on-left",attrs:{name:t.headingIcon}}),t._v("\n          "+t._s(t.heading)+"\n        ")],1),o("div",{staticClass:"text-subtitle2 row"},t._l(t.infoItems,(function(e,n){return o("div",{key:n,staticClass:"q-mr-sm"},[o("q-icon",{staticClass:"q-ma-xs",attrs:{name:e.icon,size:"1em"}}),e.tooltip?o("q-tooltip",[t._v(t._s(e.tooltip))]):t._e(),t._v("\n            "+t._s(e.label)+"\n          ")],1)})),0)]),o("div",{staticClass:"col-auto"},[o("q-btn",{attrs:{flat:"",round:"",icon:"more_vert"}},[o("q-menu",{staticStyle:{"font-size":"1em"},attrs:{anchor:"center right",self:"center left",offset:[10,0]}},[o("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-primary text-white",attrs:{clickable:""},on:{click:function(e){return t.$emit("edit")}}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"edit"}})],1),o("q-item-section",[t._v("Edit")])],1),o("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-negative text-white",attrs:{clickable:""},on:{click:function(e){return t.$emit("delete")}}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"delete"}})],1),o("q-item-section",[t._v("Delete")])],1)],1)],1)],1)])]),t.showContentSection?o("q-separator"):t._e(),t.showContentSection?o("q-card-section",[t._t("default")],2):t._e(),o("juju-loading",{attrs:{loading:t.loading}})],1)}),[],!1,null,null,null),j=q.exports;y()(q,"components",{QCard:c.a,QCardSection:d.a,QIcon:u.a,QTooltip:p.a,QBtn:h.a,QMenu:f.a,QItem:m.a,QItemSection:g.a,QSeparator:b.a}),y()(q,"directives",{ClosePopup:v.a});var w=o("b2da"),O=o("4bb5"),_=function(t,e,o,n){var r,l=arguments.length,i=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(l<3?r(i):l>3?r(e,o,i):r(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};const k=Object(O.a)("juju");let x=class ControllerEdit extends r.c{constructor(){super(...arguments),this.loading=!1,this.name=null,this.host=null,this.port=443,this.username=null,this.password=null}get inputColor(){return this.$q.dark.isActive?"secondary":"primary"}get editing(){return null!=this.controller}show(){this.controller&&(this.name=this.controllerName,this.host=this.controller.host,this.port=this.controller.port,this.username=this.controller.username),this.$refs.dialog.show()}hide(){this.$refs.dialog.hide()}onDialogHide(){this.$emit("hide")}onSubmit(){const t={host:this.host,port:this.port,username:this.username,password:this.password,models:{},machines:{},applications:{},units:{},charms:{}};this.controllerName&&this.controllerName!=this.name&&(this.currentController==this.controllerName&&this.setCurrentController(this.name),this.deleteController(this.controllerName)),this.loading=!0,this.updateController({name:this.name,controller:t}).then(()=>{this.$emit("ok",t),this.hide(),this.loading=!1,this.$q.notify({type:"positive",message:this.editing?`successfully updated controller: ${this.name}.`:"Successfully added controller: "+this.name,position:"bottom-right",timeout:2e3})})}onCancelClick(){this.hide()}};_([Object(r.b)({type:Object,default:null})],x.prototype,"controller",void 0),_([Object(r.b)({type:String,default:null})],x.prototype,"controllerName",void 0),_([k.State],x.prototype,"currentController",void 0),_([k.Action(w.a.setCurrentController)],x.prototype,"setCurrentController",void 0),_([k.Action(w.a.deleteController)],x.prototype,"deleteController",void 0),_([k.Action(w.a.updateController)],x.prototype,"updateController",void 0),x=_([r.a],x);var Q=x,S=o("24e8"),$=o("0378"),L=o("27f9"),R=o("4b7e"),A=Object(s.a)(Q,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-dialog",{ref:"dialog",attrs:{persistent:""},on:{hide:t.onDialogHide}},[o("q-card",{staticClass:"q-dialog-plugin"},[o("q-card-section",[o("div",{staticClass:"text-h5 q-mb-sm flex items-center justify-center"},[t.editing?o("q-icon",{staticClass:"on-left",attrs:{name:"edit"}}):t._e(),t.editing?o("span",[t._v("Edit")]):t._e(),t.editing?t._e():o("q-icon",{staticClass:"on-left",attrs:{name:"fas fa-plus"}}),t.editing?t._e():o("span",[t._v("Add")]),o("span",[t._v("Â Controller")])],1),t.editing?o("p",{staticClass:"text-center"},[t._v("Edit controller connection")]):o("p",{staticClass:"text-center"},[t._v("\n        Add an existing controller to Juju Lens\n      ")]),o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[o("q-input",{attrs:{label:"Controller name",color:t.inputColor,rules:[function(t){return!!t||"Field is required"}],"lazy-rules":""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),o("div",{staticClass:"row"},[o("q-input",{staticClass:"col-8",attrs:{label:"Host",color:t.inputColor,rules:[function(t){return!!t||"Field is required"}],"lazy-rules":""},model:{value:t.host,callback:function(e){t.host=e},expression:"host"}}),o("q-input",{staticClass:"col-4",attrs:{label:"Port",type:"number",color:t.inputColor,rules:[function(t){return!!t||"Field is required"}],"lazy-rules":""},model:{value:t.port,callback:function(e){t.port=t._n(e)},expression:"port"}})],1),o("q-input",{attrs:{label:"Username",color:t.inputColor,rules:[function(t){return!!t||"Field is required"}],"lazy-rules":""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),o("q-input",{attrs:{label:"Password",color:t.inputColor,rules:[function(t){return!!t||"Field is required"}],"lazy-rules":"",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),o("q-card-actions",{attrs:{align:"center"}},[o("q-btn",{attrs:{color:"positive",type:"submit",label:t.controller?"Update":"Add",icon:t.editing?"check":"fas fa-plus",loading:t.loading}}),o("q-btn",{attrs:{color:"primary",icon:"cancel",label:"Cancel"},on:{click:t.onCancelClick}})],1)],1)],1)],1)],1)}),[],!1,null,null,null),I=A.exports;y()(A,"components",{QDialog:S.a,QCard:c.a,QCardSection:d.a,QIcon:u.a,QForm:$.a,QInput:L.a,QCardActions:R.a,QBtn:h.a});var P=function(t,e,o,n){var r,l=arguments.length,i=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(l<3?r(i):l>3?r(e,o,i):r(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};const T=Object(O.a)("juju");let D=class Controllers extends r.c{get tab(){return"controllers"}startCreateController(){this.$q.dialog({component:I,parent:this})}startEditController(t,e){this.$q.dialog({component:I,parent:this,controllerName:t,controller:e})}deleteController(t){this.$q.dialog({title:"Are you sure?",message:`Are you sure you want to delete controller ${t}?`,persistent:!0,cancel:!0,ok:{label:"delete",color:"negative"}}).onOk(()=>{this.runDeleteController(t),this.$q.notify({type:"positive",message:`successfully deleted controller: ${t}.`,position:"bottom-right",timeout:2e3})})}};P([T.State],D.prototype,"currentController",void 0),P([T.State],D.prototype,"controllers",void 0),P([T.Action(w.a.deleteController)],D.prototype,"runDeleteController",void 0),D=P([Object(r.a)({components:{JujuLoading:n.a,ResourceCard:j}})],D);var E=D,N=o("65c6"),z=o("6ac5"),H=o("2c91"),B=Object(s.a)(E,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"controllers absolute fit flex items-stretch"},[o("div",{staticClass:"q-pa-xs fit column no-wrap"},[o("q-toolbar",{staticClass:"col-auto row q-mt-sm"},[o("q-toolbar-title",{staticStyle:{"font-size":"1.5rem"}},[t._v("Controllers")]),o("q-space"),o("q-btn",{attrs:{color:"positive",icon:"fas fa-plus"},on:{click:function(e){return t.startCreateController()}}})],1),o("div",{staticClass:"row content-start q-ma-sm q-col-gutter-sm"},t._l(t.controllers,(function(e,n){return o("div",{key:n,staticClass:"col-12 col-sm-6 col-md-4"},[o("resource-card",{attrs:{heading:n,headingIcon:"gamepad",infoItems:[{icon:"fas fa-server",label:Object.keys(e.machines).length,tooltip:"Machines"},{icon:"fas fa-share-alt",label:Object.keys(e.models).length,tooltip:"Models"},{icon:"fas fa-play-circle",label:Object.keys(e.applications).length,tooltip:"Applications"},{icon:"fas fa-boxes",label:Object.keys(e.units).length,tooltip:"Units"}]},on:{delete:function(e){return t.deleteController(n)},edit:function(o){return t.startEditController(n,e)}}})],1)})),0)],1),o("juju-loading",{attrs:{loading:!1}})],1)}),[],!1,null,null,null);e.default=B.exports;y()(B,"components",{QToolbar:N.a,QToolbarTitle:z.a,QSpace:H.a,QBtn:h.a})},b7b1:function(t,e,o){"use strict";var n=o("74f7"),r=o("792f"),l=o("60a3"),i=function(t,e,o,n){var r,l=arguments.length,i=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(l<3?r(i):l>3?r(e,o,i):r(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};let a=class JujuLoading extends l.c{constructor(){super(...arguments),this.showLoading=!1,this.showLoadingTimeoutHandle=null}created(){this.onLoadingChange(this.loading)}onLoadingChange(t){t||(this.showLoading=!1),!t&&this.showLoadingTimeoutHandle?clearTimeout(this.showLoadingTimeoutHandle):t&&!this.showLoadingTimeoutHandle&&(this.showLoadingTimeoutHandle=setTimeout(()=>this.showLoading=!0,this.delay))}};i([Object(l.b)(Boolean)],a.prototype,"loading",void 0),i([Object(l.b)({type:Number,default:300})],a.prototype,"delay",void 0),i([Object(l.d)("loading")],a.prototype,"onLoadingChange",null),a=i([Object(l.a)({components:{QInnerLoading:n.a,QSpinnerRings:r.a}})],a);var s=a,c=o("2877"),d=o("eebe"),u=o.n(d),p=Object(c.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("q-inner-loading",{attrs:{showing:this.showLoading}},[e("q-spinner-rings",{attrs:{size:"80%",color:this.$q.dark.isActive?"secondary":"primary"}})],1)}),[],!1,null,null,null);e.a=p.exports;u()(p,"components",{QInnerLoading:n.a,QSpinnerRings:r.a})}}]);