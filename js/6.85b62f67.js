(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{a7d4:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"controllers absolute fit flex items-stretch"},[o("div",{staticClass:"q-pa-xs fit column"},[o("q-toolbar",{staticClass:"col-auto row q-mt-sm"},[o("q-toolbar-title",{staticStyle:{"font-size":"1.5rem"}},[t._v("Controllers")]),o("q-space"),o("q-btn",{attrs:{color:"positive",icon:"fas fa-plus"},on:{click:function(e){return t.startCreateController()}}})],1),o("div",{staticClass:"row content-start q-ma-sm q-col-gutter-sm"},t._l(t.controllers,(function(e,n){return o("div",{key:n,staticClass:"col-12 col-sm-6 col-md-4"},[o("resource-card",{attrs:{heading:n,headingIcon:"gamepad",infoItems:[{icon:"fas fa-server",label:Object.keys(e.machines).length,tooltip:"Machines"},{icon:"fas fa-share-alt",label:Object.keys(e.models).length,tooltip:"Models"},{icon:"fas fa-play-circle",label:Object.keys(e.applications).length,tooltip:"Applications"},{icon:"fas fa-boxes",label:Object.keys(e.units).length,tooltip:"Units"}]},on:{delete:function(e){return t.deleteController(n)},edit:function(o){return t.startEditController(n,e)}}})],1)})),0)],1),o("juju-loading",{attrs:{loading:!1}})],1)},r=[],l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",[o("q-card-section",[o("div",{staticClass:"row items-center"},[o("div",{staticClass:"col-grow",staticStyle:{flex:"1 1 0%"}},[o("div",{staticClass:"text-h6"},[o("q-icon",{staticClass:"on-left",attrs:{name:t.headingIcon}}),t._v("\n          "+t._s(t.heading)+"\n        ")],1),o("div",{staticClass:"text-subtitle2 row"},t._l(t.infoItems,(function(e,n){return o("div",{key:n,staticClass:"q-mr-sm"},[o("q-icon",{staticClass:"q-ma-xs",attrs:{name:e.icon,size:"1em"}}),e.tooltip?o("q-tooltip",[t._v(t._s(e.tooltip))]):t._e(),t._v("\n            "+t._s(e.label)+"\n          ")],1)})),0)]),o("div",{staticClass:"col-auto"},[o("q-btn",{attrs:{flat:"",round:"",icon:"more_vert"}},[o("q-menu",{staticStyle:{"font-size":"1em"},attrs:{anchor:"center right",self:"center left",offset:[10,0]}},[o("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-primary text-white",attrs:{clickable:""},on:{click:function(e){return t.$emit("edit")}}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"edit"}})],1),o("q-item-section",[t._v("Edit")])],1),o("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-negative text-white",attrs:{clickable:""},on:{click:function(e){return t.$emit("delete")}}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"delete"}})],1),o("q-item-section",[t._v("Delete")])],1)],1)],1)],1)])]),t.showContentSection?o("q-separator"):t._e(),t.showContentSection?o("q-card-section",[t._t("default")],2):t._e(),o("juju-loading",{attrs:{loading:t.loading}})],1)},i=[],a=o("b7b1"),s=o("60a3"),c=function(t,e,o,n){var r,l=arguments.length,i=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(l<3?r(i):l>3?r(e,o,i):r(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};let d=class extends s["d"]{};c([Object(s["c"])({type:String,default:""})],d.prototype,"heading",void 0),c([Object(s["c"])({type:String,default:null})],d.prototype,"headingIcon",void 0),c([Object(s["c"])({type:Array,default:[]})],d.prototype,"infoItems",void 0),c([Object(s["c"])({type:Boolean,default:!1})],d.prototype,"loading",void 0),c([Object(s["c"])({type:Boolean,default:!1})],d.prototype,"showContentSection",void 0),d=c([Object(s["a"])({components:{JujuLoading:a["a"]}})],d);var u=d,p=u,h=o("2877"),f=o("f09f"),m=o("a370"),g=o("0016"),b=o("05c0"),v=o("9c40"),y=o("4e73"),C=o("66e5"),q=o("4074"),j=o("eb85"),w=o("7f67"),O=o("eebe"),_=o.n(O),k=Object(h["a"])(p,l,i,!1,null,null,null),x=k.exports;_()(k,"components",{QCard:f["a"],QCardSection:m["a"],QIcon:g["a"],QTooltip:b["a"],QBtn:v["a"],QMenu:y["a"],QItem:C["a"],QItemSection:q["a"],QSeparator:j["a"]}),_()(k,"directives",{ClosePopup:w["a"]});var Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-dialog",{ref:"dialog",attrs:{persistent:""},on:{hide:t.onDialogHide}},[o("q-card",{staticClass:"q-dialog-plugin"},[o("q-card-section",[o("div",{staticClass:"text-h5 q-mb-sm flex items-center justify-center"},[t.editing?o("q-icon",{staticClass:"on-left",attrs:{name:"edit"}}):t._e(),t.editing?o("span",[t._v("Edit")]):t._e(),t.editing?t._e():o("q-icon",{staticClass:"on-left",attrs:{name:"fas fa-plus"}}),t.editing?t._e():o("span",[t._v("Add")]),o("span",[t._v("Â Controller")])],1),t.editing?o("p",{staticClass:"text-center"},[t._v("Edit controller connection")]):o("p",{staticClass:"text-center"},[t._v("\n        Add an existing controller to Juju Lens\n      ")]),o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[o("q-input",{attrs:{label:"Controller name",color:t.inputColor,rules:[function(t){return!!t||"Field is required"}],"lazy-rules":""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),o("div",{staticClass:"row"},[o("q-input",{staticClass:"col-8",attrs:{label:"Host",color:t.inputColor,rules:[function(t){return!!t||"Field is required"}],"lazy-rules":""},model:{value:t.host,callback:function(e){t.host=e},expression:"host"}}),o("q-input",{staticClass:"col-4",attrs:{label:"Port",type:"number",color:t.inputColor,rules:[function(t){return!!t||"Field is required"}],"lazy-rules":""},model:{value:t.port,callback:function(e){t.port=t._n(e)},expression:"port"}})],1),o("q-input",{attrs:{label:"Username",color:t.inputColor,rules:[function(t){return!!t||"Field is required"}],"lazy-rules":""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),o("q-input",{attrs:{label:"Password",color:t.inputColor,rules:[function(t){return!!t||"Field is required"}],"lazy-rules":"",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),o("q-card-actions",{attrs:{align:"center"}},[o("q-btn",{attrs:{color:"positive",type:"submit",label:t.controller?"Update":"Add",icon:t.editing?"check":"fas fa-plus",loading:t.loading}}),o("q-btn",{attrs:{color:"primary",icon:"cancel",label:"Cancel"},on:{click:t.onCancelClick}})],1)],1)],1)],1)],1)},S=[],$=o("b2da"),L=o("4bb5"),R=function(t,e,o,n){var r,l=arguments.length,i=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(l<3?r(i):l>3?r(e,o,i):r(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};const A=Object(L["a"])("juju");let I=class extends s["d"]{constructor(){super(...arguments),this.loading=!1,this.name=null,this.host=null,this.port=443,this.username=null,this.password=null}get inputColor(){return this.$q.dark.isActive?"secondary":"primary"}get editing(){return null!=this.controller}show(){this.controller&&(this.name=this.controllerName,this.host=this.controller.host,this.port=this.controller.port,this.username=this.controller.username),this.$refs.dialog.show()}hide(){this.$refs.dialog.hide()}onDialogHide(){this.$emit("hide")}onSubmit(){const t={host:this.host,port:this.port,username:this.username,password:this.password,models:{},machines:{},applications:{},units:{},charms:{}};this.controllerName&&this.controllerName!=this.name&&(this.currentController==this.controllerName&&this.setCurrentController(this.name),this.deleteController(this.controllerName)),this.loading=!0,this.updateController({name:this.name,controller:t}).then(()=>{this.$emit("ok",t),this.hide(),this.loading=!1,this.$q.notify({type:"positive",message:this.editing?`successfully updated controller: ${this.name}.`:"Successfully added controller: "+this.name,position:"bottom-right",timeout:2e3})})}onCancelClick(){this.hide()}};R([Object(s["c"])({type:Object,default:null})],I.prototype,"controller",void 0),R([Object(s["c"])({type:String,default:null})],I.prototype,"controllerName",void 0),R([A.State],I.prototype,"currentController",void 0),R([A.Action($["a"].setCurrentController)],I.prototype,"setCurrentController",void 0),R([A.Action($["a"].deleteController)],I.prototype,"deleteController",void 0),R([A.Action($["a"].updateController)],I.prototype,"updateController",void 0),I=R([s["a"]],I);var P=I,T=P,D=o("24e8"),N=o("0378"),z=o("27f9"),E=o("4b7e"),H=Object(h["a"])(T,Q,S,!1,null,null,null),B=H.exports;_()(H,"components",{QDialog:D["a"],QCard:f["a"],QCardSection:m["a"],QIcon:g["a"],QForm:N["a"],QInput:z["a"],QCardActions:E["a"],QBtn:v["a"]});var F=function(t,e,o,n){var r,l=arguments.length,i=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(l<3?r(i):l>3?r(e,o,i):r(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};const J=Object(L["a"])("juju");let M=class extends s["d"]{get tab(){return"controllers"}startCreateController(){this.$q.dialog({component:B,parent:this})}startEditController(t,e){this.$q.dialog({component:B,parent:this,controllerName:t,controller:e})}deleteController(t){this.$q.dialog({title:"Are you sure?",message:`Are you sure you want to delete controller ${t}?`,persistent:!0,cancel:!0,ok:{label:"delete",color:"negative"}}).onOk(()=>{this.runDeleteController(t),this.$q.notify({type:"positive",message:`successfully deleted controller: ${t}.`,position:"bottom-right",timeout:2e3})})}};F([J.State],M.prototype,"currentController",void 0),F([J.State],M.prototype,"controllers",void 0),F([J.Action($["a"].deleteController)],M.prototype,"runDeleteController",void 0),M=F([Object(s["a"])({components:{JujuLoading:a["a"],ResourceCard:x}})],M);var U=M,G=U,K=o("65c6"),V=o("6ac5"),W=o("2c91"),X=Object(h["a"])(G,n,r,!1,null,null,null);e["default"]=X.exports;_()(X,"components",{QToolbar:K["a"],QToolbarTitle:V["a"],QSpace:W["a"],QBtn:v["a"]})},b7b1:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-inner-loading",{attrs:{showing:t.showLoading}},[o("q-spinner-rings",{attrs:{size:"80%",color:t.$q.dark.isActive?"secondary":"primary"}})],1)},r=[],l=o("74f7"),i=o("792f"),a=o("60a3"),s=function(t,e,o,n){var r,l=arguments.length,i=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(l<3?r(i):l>3?r(e,o,i):r(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};let c=class extends a["d"]{constructor(){super(...arguments),this.showLoading=!1,this.showLoadingTimeoutHandle=null}created(){this.onLoadingChange(this.loading)}onLoadingChange(t){t||(this.showLoading=!1),!t&&this.showLoadingTimeoutHandle?clearTimeout(this.showLoadingTimeoutHandle):t&&!this.showLoadingTimeoutHandle&&(this.showLoadingTimeoutHandle=setTimeout(()=>this.showLoading=!0,this.delay))}};s([Object(a["c"])(Boolean)],c.prototype,"loading",void 0),s([Object(a["c"])({type:Number,default:300})],c.prototype,"delay",void 0),s([Object(a["e"])("loading")],c.prototype,"onLoadingChange",null),c=s([Object(a["a"])({components:{QInnerLoading:l["a"],QSpinnerRings:i["a"]}})],c);var d=c,u=d,p=o("2877"),h=o("eebe"),f=o.n(h),m=Object(p["a"])(u,n,r,!1,null,null,null);e["a"]=m.exports;f()(m,"components",{QInnerLoading:l["a"],QSpinnerRings:i["a"]})}}]);